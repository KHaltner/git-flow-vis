<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script src="Scripts/jquery-2.0.2.min.js"></script>
    <script src="Scripts/d3.v3.min.js"></script>
    <script src="Scripts/moment.min.js"></script>

    <script src="Scripts/DummyData.js"></script>
    <script src="Scripts/gitflow-visualize.js"></script>
    <script>
        $(function () {
            var element = document.getElementById('drawhere');
            //GitFlowVisualize.draw(Dummy.Data[0], element, {developRef:"refs/heads/integration"});
        	//GitFlowVisualize.draw(Dummy.Data[1], element, { developRef: "refs/heads/integration" });
            var dataCallback = function (done) { window.setTimeout(function () { done(Dummy.Data[1]); }, 100); };
            var moreDataCallback = function (from, done) { if (from == "4c1f8a4811e2798be63b5552ee3518e1b47be54f") { done(Dummy.Data[3]); } };
            var showSpinner = function () { 
            	var back = ["#ccc", "#aaa","blue","#330"];
            	var rand = back[Math.floor(Math.random() * back.length)];
            	$('#spinner').show().css("background-color", rand); }
            var hideSpinner = function () { $('#spinner').hide(); }
            GitFlowVisualize.draw(element,
							{
								dataCallback: dataCallback,
								moreDataCallback: moreDataCallback,
								showSpinner: showSpinner,
								hideSpinner: hideSpinner
							});
        });
    </script>
    <style>
    	.aui-avatar-xsmall .aui-avatar-inner img {
    		max-height: 12px;
    		max-width: 12px;
    	}
    	#spinner {position:fixed;width:100px;height:50px;top:200px;left:400px;padding-top:20px;
								background-color:black;color:white;font: bold 2em arial;text-align:center;
								opacity:0.4;z-index:999;
    	}

    </style>
    <title></title>
</head>
<body>
    <div id="drawhere"></div>
	<div id="spinner">busy</div>
</body>
</html>
